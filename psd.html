<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>PSD Viewer</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/psd.js/3.4.0/psd.js"></script>
  <script>
    window.addEventListener('DOMContentLoaded', () => {
      const urlParams = new URLSearchParams(window.location.search);
      const psdUrl = urlParams.get('psd');
      if (psdUrl) {
        PSD.fromURL(psdUrl).then((psd) => {
          document.getElementById('ImageContainer').appendChild(psd.image.toPng());
        });
      }
      
      // Listen for drag & drop event on document
      document.addEventListener("drop", (evt) => {
        evt.preventDefault();
        PSD.fromEvent(evt).then((psd) => {
          console.log(psd.tree().export());
        }); 
      });
    });
  </script>
</head>
<body>
  <div id="ImageContainer"></div>
</body>
</html>